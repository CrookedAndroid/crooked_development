{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1f56bc70_18853561",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-07-28T01:12:42Z",
      "side": 1,
      "message": "can we bulk convert everything to device_supported instead? I think it is more clear",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 45
      },
      "revId": "67ead52dd9da032b03c400b451a46b71155e8989",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ccc3ed6d_e899367b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1944400
      },
      "writtenOn": "2023-07-28T01:29:45Z",
      "side": 1,
      "message": "i personally like it being more verbose, but don\u0027t really care much, so +1 just changing it and updating the one existing cargo embargo config file",
      "parentUuid": "1f56bc70_18853561",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 45
      },
      "revId": "67ead52dd9da032b03c400b451a46b71155e8989",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62a0b122_fa47821d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1380243
      },
      "writtenOn": "2023-07-28T09:47:32Z",
      "side": 1,
      "message": "My goal here is to make `cargo_embargo` work with the existing `cargo2android.json` files that all our external crates, to simplify the transition. Once we\u0027ve removed `cargo2android.py` entirely then we can remove the alias and change everything, but for a first step I\u0027d prefer to do it this way.",
      "parentUuid": "ccc3ed6d_e899367b",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 45
      },
      "revId": "67ead52dd9da032b03c400b451a46b71155e8989",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80908f9d_560d728e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-07-28T18:25:10Z",
      "side": 1,
      "message": "Why? We need to rename the files and touch them once. So, we can fix them up with an automated rule as part of that step. We don\u0027t want to create more work, or this CL which will only have to be undone?\n\nThis CL achieves a faster conversion, but the total amount of work that is proposed (including creating and reverting this CL) seems larger.",
      "parentUuid": "62a0b122_fa47821d",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 45
      },
      "revId": "67ead52dd9da032b03c400b451a46b71155e8989",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5edcf89_2f94d8f8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1944400
      },
      "writtenOn": "2023-07-28T20:45:48Z",
      "side": 1,
      "message": "it is a tiny amount of code, so probably not worth discussing much",
      "parentUuid": "80908f9d_560d728e",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 45
      },
      "revId": "67ead52dd9da032b03c400b451a46b71155e8989",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e732aac1_f5e66ea0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-07-28T21:35:29Z",
      "side": 1,
      "message": "Aliases are added too often because it\u0027s easy, and we may know it now, but it\u0027s one more thing that users of this tool would need to learn. I don\u0027t think we should accept anything which is \u0027legacy\u0027 or problematic in cargo embargo. We are moving all the configs over, so it\u0027s the only opportunity to keep things simple. It\u0027s very easy to write a script to fix all the JSON files and will likely need it for a few cases, so why not? We could also rename this back to \u0027device\u0027 and fix one file to keep things simple. Of course, we 3 understands this, but there are going to be a million quirks to a tool like cargo embargo and people will have to check \"okay what\u0027s the difference here\". It takes avoiding each one in order to make a good experience and easy. These aliases get created, and they will tend to stick around forever. Nip it in the bud.\n\nAlso to be clear, it\u0027s not about this being a tiny amount of code, it\u0027s about the 277 cargo2android.json files (230 that contain \"device\") that we\u0027re about to switch over and touch. We can get away with a single commit in each moving the file over which can also rename \u0027device\u0027. Or we could rename device_specific to device in crosvm if we\u0027re okay with the \u0027device\u0027 name. There will likely never be another opportunity to resolve this. So I\u0027d prefer we do it now, and also set this as a precedent for any other changes to move these over.",
      "parentUuid": "d5edcf89_2f94d8f8",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 45
      },
      "revId": "67ead52dd9da032b03c400b451a46b71155e8989",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b7c4690_c87ac3b4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1380243
      },
      "writtenOn": "2023-08-01T16:02:45Z",
      "side": 1,
      "message": "My plan is to keep the existing files working with both tools until we get rid of `cargo2android.py` entirely, which is likely to take a while. Once `cargo_embargo` starts to support some of the existing crates, we can have an allowlist or fallback to start using it opportunistically, but I don\u0027t want to break support for `cargo2android.py` in the meantime.\n\nThe filename for `cargo2android.json` doesn\u0027t seem to matter; in either case it\u0027s passed on the command-line, so there\u0027s no need to rename it.\n\nIf you don\u0027t want to have an alias, then we have two options: either change crosvm to use `device` rather than `device_supported`, or change all the other crates to use `device_supported` rather than `device`, and also change `cargo2android.py`. I would prefer the former to minimise churn.",
      "parentUuid": "e732aac1_f5e66ea0",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 45
      },
      "revId": "67ead52dd9da032b03c400b451a46b71155e8989",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}