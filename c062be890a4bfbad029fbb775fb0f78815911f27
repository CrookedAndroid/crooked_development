{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "091e69b1_6f60bc26",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2021-10-28T17:14:26Z",
      "side": 1,
      "message": "Any possibility of adding some unit tests for this to the end of the file? I don\u0027t know how hard it is to do though.",
      "revId": "c062be890a4bfbad029fbb775fb0f78815911f27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0911c39d_7c2cbafd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2021-10-28T21:14:51Z",
      "side": 1,
      "message": "Any thoughts?  Considering it is all based on doing disk reads, it does not seem trivial.\n\nThe existing tests seem to just test some of the isolated functions that don\u0027t depend on I/O.\n\nMaybe we could search some Android prebuilt directory for ELFs with specific build-id.\nThat is hacky and would break when the prebuilds get updated, but it would be some test..",
      "parentUuid": "091e69b1_6f60bc26",
      "revId": "c062be890a4bfbad029fbb775fb0f78815911f27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fcf88d5e_4fb0002a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2021-10-28T21:36:25Z",
      "side": 1,
      "message": "If you have to do file manipulation, it\u0027s probably not worth a lot of effort. We could probably create a fake file system, but since we haven\u0027t for any of the other code here, then I don\u0027t think it\u0027s really worth the effort.\n\nThe problem is that when this script goes wrong, we don\u0027t necessarily hear about it for a long time. At some point, we really should add better testing for this script.\n\nSo I\u0027d leave this be for now unless there is something easy you can add to the current unit tests.",
      "parentUuid": "0911c39d_7c2cbafd",
      "revId": "c062be890a4bfbad029fbb775fb0f78815911f27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7da3c8a_0b8d2c50",
        "filename": "scripts/stack_core.py",
        "patchSetId": 1
      },
      "lineNbr": 486,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2021-10-28T17:14:26Z",
      "side": 1,
      "message": "Would it be better to check if this is a directory instead of not a file?",
      "range": {
        "startLine": 486,
        "startChar": 23,
        "endLine": 486,
        "endChar": 29
      },
      "revId": "c062be890a4bfbad029fbb775fb0f78815911f27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7a3aab78_7b957300",
        "filename": "scripts/stack_core.py",
        "patchSetId": 1
      },
      "lineNbr": 486,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2021-10-28T21:14:51Z",
      "side": 1,
      "message": "Note the \"+ lib\".\nThe intent is to do the brute-force search only if the lib does not exist.\nShould I just remove the condition and always do the build_id search regardless?\n\nLikewise, if the file does exist it will use it... even if the build id does not match.\n\nThe intent was to be conservative to start with, but I would consider just failing in that case...",
      "parentUuid": "b7da3c8a_0b8d2c50",
      "range": {
        "startLine": 486,
        "startChar": 23,
        "endLine": 486,
        "endChar": 29
      },
      "revId": "c062be890a4bfbad029fbb775fb0f78815911f27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0466e50b_3ebed424",
        "filename": "scripts/stack_core.py",
        "patchSetId": 1
      },
      "lineNbr": 486,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2021-10-28T21:36:25Z",
      "side": 1,
      "message": "I think it would be useful to check build id against lib even if it does exist. It might be nice to have the function check the lib file first, then go searching if you are worried about performance.\n\nIdeally, adding a warning message when a build id lib cannot be found, and then skipping the symbol lookup. But this code is kind of a mess, so maybe a warning is good enough.",
      "parentUuid": "7a3aab78_7b957300",
      "range": {
        "startLine": 486,
        "startChar": 23,
        "endLine": 486,
        "endChar": 29
      },
      "revId": "c062be890a4bfbad029fbb775fb0f78815911f27",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}