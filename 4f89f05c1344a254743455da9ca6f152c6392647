{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "baa53d92_ee59c010",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-08-02T20:21:54Z",
      "side": 1,
      "message": "Could you take a look of this non-AB patch for OTA analyzer?",
      "revId": "4f89f05c1344a254743455da9ca6f152c6392647",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4039bac_4693a7a5",
        "filename": "tools/ota_analysis/src/services/payload_nonab.js",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-08-05T14:35:09Z",
      "side": 1,
      "message": "totalBlocks * blockSize should give total size? block size is assumed to be 4096 unless specified otherwise in the ota PACKAGE.",
      "range": {
        "startLine": 51,
        "startChar": 39,
        "endLine": 51,
        "endChar": 46
      },
      "revId": "4f89f05c1344a254743455da9ca6f152c6392647",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8ed1acdb_36b2748d",
        "filename": "tools/ota_analysis/src/services/payload_nonab.js",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-08-05T16:27:45Z",
      "side": 1,
      "message": "The reason I did not specify it here is because the totalBlocks is unknown. \n\nIn this comment: https://source.corp.google.com/aosp-master/bootable/recovery/updater/blockimg.cpp;rcl\u003d4f81130039f6a312eba2027b3594a2be282f6b3a;l\u003d1753\nIt says, the \u0027total number of blocks we expect to write\u0027, is that the totalBlocks of the new partitions?",
      "parentUuid": "d4039bac_4693a7a5",
      "range": {
        "startLine": 51,
        "startChar": 39,
        "endLine": 51,
        "endChar": 46
      },
      "revId": "4f89f05c1344a254743455da9ca6f152c6392647",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9df3001c_26db3289",
        "filename": "tools/ota_analysis/src/services/payload_nonab.js",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2021-08-05T17:57:50Z",
      "side": 1,
      "message": "Oh, it\u0027s actually the total dest blocks written in this OTA. Because for non-A/B update, it doesn\u0027t need to write every block on the partition; e.g. the update only writes half of the blocks if the other half are unchanged across builds.",
      "parentUuid": "8ed1acdb_36b2748d",
      "range": {
        "startLine": 51,
        "startChar": 39,
        "endLine": 51,
        "endChar": 46
      },
      "revId": "4f89f05c1344a254743455da9ca6f152c6392647",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc7a0af6_da4169c8",
        "filename": "tools/ota_analysis/src/services/payload_nonab.js",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-08-05T18:31:05Z",
      "side": 1,
      "message": "Got it. Is there a way to know the real total blocks of the file system, just from the non-AB OTA package?",
      "parentUuid": "9df3001c_26db3289",
      "range": {
        "startLine": 51,
        "startChar": 39,
        "endLine": 51,
        "endChar": 46
      },
      "revId": "4f89f05c1344a254743455da9ca6f152c6392647",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a0e19e2b_971916e4",
        "filename": "tools/ota_analysis/src/services/payload_nonab.js",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2021-08-05T18:50:44Z",
      "side": 1,
      "message": "indeed it\u0027s not known directly from the OTA package. A more complicated way is to  check the last block index in the OTA, and use that * blockSize",
      "parentUuid": "bc7a0af6_da4169c8",
      "range": {
        "startLine": 51,
        "startChar": 39,
        "endLine": 51,
        "endChar": 46
      },
      "revId": "4f89f05c1344a254743455da9ca6f152c6392647",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c918d2fd_ebafb71d",
        "filename": "tools/ota_analysis/src/services/payload_nonab.js",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-08-09T18:54:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a0e19e2b_971916e4",
      "range": {
        "startLine": 51,
        "startChar": 39,
        "endLine": 51,
        "endChar": 46
      },
      "revId": "4f89f05c1344a254743455da9ca6f152c6392647",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}